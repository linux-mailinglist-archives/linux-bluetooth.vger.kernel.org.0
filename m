Return-Path: <linux-bluetooth-owner@vger.kernel.org>
X-Original-To: lists+linux-bluetooth@lfdr.de
Delivered-To: lists+linux-bluetooth@lfdr.de
Received: from out1.vger.email (out1.vger.email [IPv6:2620:137:e000::1:20])
	by mail.lfdr.de (Postfix) with ESMTP id 55A805757C7
	for <lists+linux-bluetooth@lfdr.de>; Fri, 15 Jul 2022 00:42:35 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S240845AbiGNWm0 (ORCPT <rfc822;lists+linux-bluetooth@lfdr.de>);
        Thu, 14 Jul 2022 18:42:26 -0400
Received: from lindbergh.monkeyblade.net ([23.128.96.19]:51760 "EHLO
        lindbergh.monkeyblade.net" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S240907AbiGNWmV (ORCPT
        <rfc822;linux-bluetooth@vger.kernel.org>);
        Thu, 14 Jul 2022 18:42:21 -0400
Received: from smtp.github.com (out-21.smtp.github.com [192.30.252.204])
        by lindbergh.monkeyblade.net (Postfix) with ESMTPS id B62CA72EDA
        for <linux-bluetooth@vger.kernel.org>; Thu, 14 Jul 2022 15:42:20 -0700 (PDT)
Received: from github.com (hubbernetes-node-3a9f456.ac4-iad.github.net [10.52.201.38])
        by smtp.github.com (Postfix) with ESMTPA id 25BE25200AC
        for <linux-bluetooth@vger.kernel.org>; Thu, 14 Jul 2022 15:42:20 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=github.com;
        s=pf2014; t=1657838540;
        bh=XjGkV7Hz3vV/wkID+Ns6q653iaZLUnJXhNtMkIiyxug=;
        h=Date:From:To:Subject:From;
        b=CB3oZJvnLGVKUXlVhp6C44I8aNScypPYiN1mPcf1ne/h4XYXgoNtCkYi8j7MutjDW
         AbiM8FNeYXJh6LlVUuJxTuBBWPeUvqIVlWRsP8nUQZyiS8JpX5yX67LRO4Gvg4mC/H
         juxhR1MY0NqMKgmZ1sfwEgO1+C8ZPtGlaakW2VWE=
Date:   Thu, 14 Jul 2022 15:42:20 -0700
From:   Luiz Augusto von Dentz <noreply@github.com>
To:     linux-bluetooth@vger.kernel.org
Message-ID: <bluez/bluez/push/refs/heads/master/a69fa6-af998f@github.com>
Subject: [bluez/bluez] af998f: main: Default device_privacy to true
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit
X-GitHub-Recipient-Address: linux-bluetooth@vger.kernel.org
X-Auto-Response-Suppress: All
X-Spam-Status: No, score=-7.7 required=5.0 tests=BAYES_00,DKIMWL_WL_HIGH,
        DKIM_SIGNED,DKIM_VALID,DKIM_VALID_AU,DKIM_VALID_EF,RCVD_IN_DNSWL_HI,
        RCVD_IN_MSPIKE_H2,SPF_HELO_NONE,SPF_NONE,T_SCC_BODY_TEXT_LINE
        autolearn=ham autolearn_force=no version=3.4.6
X-Spam-Checker-Version: SpamAssassin 3.4.6 (2021-04-09) on
        lindbergh.monkeyblade.net
Precedence: bulk
List-ID: <linux-bluetooth.vger.kernel.org>
X-Mailing-List: linux-bluetooth@vger.kernel.org

  Branch: refs/heads/master
  Home:   https://github.com/bluez/bluez
  Commit: af998fd32c34f739002865b7288183e006c2ef53
      https://github.com/bluez/bluez/commit/af998fd32c34f739002865b7288183e006c2ef53
  Author: Luiz Augusto von Dentz <luiz.von.dentz@intel.com>
  Date:   2022-07-13 (Wed, 13 Jul 2022)

  Changed paths:
    M src/main.c

  Log Message:
  -----------
  main: Default device_privacy to true

If privacy mode is not strictly set to network set it to device
otherwise network mode would prevent reconnections if the the identity
address is used:

BLUETOOTH CORE SPECIFICATION Version 5.3 | Vol 6, Part B page 2837-2838

 'The Host specifies the privacy mode to be used with each peer
 identity on the resolving list. If it specifies that device privacy
 mode is to be used, then the Controller shall accept both the peer's
 device Identity Address and a resolvable private address generated by
 the peer device using its distributed IRK. Otherwise, network privacy
 mode is used: the Controller shall only accept resolvable private
 addresses generated by the peer device using its distributed IRK.'


