Return-Path: <linux-bluetooth-owner@vger.kernel.org>
X-Original-To: lists+linux-bluetooth@lfdr.de
Delivered-To: lists+linux-bluetooth@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [209.132.180.67])
	by mail.lfdr.de (Postfix) with ESMTP id AD90F5E7F7
	for <lists+linux-bluetooth@lfdr.de>; Wed,  3 Jul 2019 17:38:54 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1726598AbfGCPix (ORCPT <rfc822;lists+linux-bluetooth@lfdr.de>);
        Wed, 3 Jul 2019 11:38:53 -0400
Received: from mga07.intel.com ([134.134.136.100]:23501 "EHLO mga07.intel.com"
        rhost-flags-OK-OK-OK-OK) by vger.kernel.org with ESMTP
        id S1726490AbfGCPix (ORCPT <rfc822;linux-bluetooth@vger.kernel.org>);
        Wed, 3 Jul 2019 11:38:53 -0400
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from fmsmga005.fm.intel.com ([10.253.24.32])
  by orsmga105.jf.intel.com with ESMTP/TLS/DHE-RSA-AES256-GCM-SHA384; 03 Jul 2019 08:38:51 -0700
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.63,446,1557212400"; 
   d="scan'208";a="362680586"
Received: from orsmsx105.amr.corp.intel.com ([10.22.225.132])
  by fmsmga005.fm.intel.com with ESMTP; 03 Jul 2019 08:38:48 -0700
Received: from orsmsx114.amr.corp.intel.com (10.22.240.10) by
 ORSMSX105.amr.corp.intel.com (10.22.225.132) with Microsoft SMTP Server (TLS)
 id 14.3.439.0; Wed, 3 Jul 2019 08:38:47 -0700
Received: from orsmsx103.amr.corp.intel.com ([169.254.5.135]) by
 ORSMSX114.amr.corp.intel.com ([169.254.8.90]) with mapi id 14.03.0439.000;
 Wed, 3 Jul 2019 08:38:47 -0700
From:   "Gix, Brian" <brian.gix@intel.com>
To:     "michal.lowas-rzechonek@silvair.com" 
        <michal.lowas-rzechonek@silvair.com>,
        "linux-bluetooth@vger.kernel.org" <linux-bluetooth@vger.kernel.org>
CC:     "Stotland, Inga" <inga.stotland@intel.com>
Subject: Re: [PATCH BlueZ v4 2/3] mesh: Implement DevKeySend() method on
 Node interface
Thread-Topic: [PATCH BlueZ v4 2/3] mesh: Implement DevKeySend() method on
 Node interface
Thread-Index: AQHVMZRt1L2S8+osHk2FDDJRJMCnNKa5fPyA
Date:   Wed, 3 Jul 2019 15:38:46 +0000
Message-ID: <1562168325.23933.19.camel@intel.com>
References: <20190703114214.22320-1-michal.lowas-rzechonek@silvair.com>
         <20190703114214.22320-3-michal.lowas-rzechonek@silvair.com>
In-Reply-To: <20190703114214.22320-3-michal.lowas-rzechonek@silvair.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [10.254.20.71]
Content-Type: text/plain; charset="utf-8"
Content-ID: <C1B946F48D36154DA521E1658FF146F2@intel.com>
Content-Transfer-Encoding: base64
MIME-Version: 1.0
Sender: linux-bluetooth-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-bluetooth.vger.kernel.org>
X-Mailing-List: linux-bluetooth@vger.kernel.org

T24gV2VkLCAyMDE5LTA3LTAzIGF0IDEzOjQyICswMjAwLCBNaWNoYcWCIExvd2FzLVJ6ZWNob25l
ayB3cm90ZToNCj4gVGhpcyBwYXRjaCBpbXBsZW1lbnRzIEQtQnVzIERldktleVNlbmQoKSBtZXRo
b2Qgb2Ygb3JnLmJsdWV6Lm1lc2guTm9kZTENCj4gaW50ZXJmYWNlLCBhbGxvd2luZyB0aGUgYXBw
bGljYXRpb24gdG8gc2VuZCBtZXNzYWdlcyBlbmNyeXB0ZWQgdXNpbmcNCj4gYSBrbm93biByZW1v
dGUgZGV2aWNlIGtleS4NCj4gDQo+IEF0IHRoZSBtb21lbnQgdGhlIGNhbGwgaWdub3JlcyBuZXRf
aW5kZXggYXJndW1lbnQgYW5kIHNlbmRzIG1lc3NhZ2VzDQo+IHVzaW5nIHRoZSBwcmltYXJ5IHN1
Ym5ldC4NCj4gDQo+IEFsc28sIGl0J3Mgbm8gbG9uZ2VyIHBvc3NpYmxlIHRvIHVzZSAnbWFnaWMn
IGtleV9pbmRleCB2YWx1ZSAweDdmZmYNCj4gKGRlbm90aW5nIGxvY2FsIGRldmljZSBrZXkpIHdo
ZW4gY2FsbGluZyByZWd1bGFyIFNlbmQoKS4gQXBwbGljYXRpb25zDQo+IHNob3VsZCB1c2UgRGV2
S2V5U2VuZCgpIGluc3RlYWQuDQo+IC0tLQ0KPiAgbWVzaC9tb2RlbC5jIHwgIDkgKysrKysrKy0N
Cj4gIG1lc2gvbm9kZS5jICB8IDU5ICsrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysr
KysrKysrKysrKysrKysrLS0NCj4gIDIgZmlsZXMgY2hhbmdlZCwgNjUgaW5zZXJ0aW9ucygrKSwg
MyBkZWxldGlvbnMoLSkNCj4gDQo+IGRpZmYgLS1naXQgYS9tZXNoL21vZGVsLmMgYi9tZXNoL21v
ZGVsLmMNCj4gaW5kZXggNTk4NjE1YzVlLi5hYWU5MTNkOTIgMTAwNjQ0DQo+IC0tLSBhL21lc2gv
bW9kZWwuYw0KPiArKysgYi9tZXNoL21vZGVsLmMNCj4gQEAgLTM5LDYgKzM5LDcgQEANCj4gICNp
bmNsdWRlICJtZXNoL2RidXMuaCINCj4gICNpbmNsdWRlICJtZXNoL3V0aWwuaCINCj4gICNpbmNs
dWRlICJtZXNoL21vZGVsLmgiDQo+ICsjaW5jbHVkZSAibWVzaC9rZXlyaW5nLmgiDQo+ICANCj4g
IC8qIERpdmlkZSBhbmQgcm91bmQgdG8gY2VpbGluZyAodXApIHRvIGNhbGN1bGF0ZSBzZWdtZW50
IGNvdW50ICovDQo+ICAjZGVmaW5lIENFSUxESVYodmFsLCBkaXYpICgoKHZhbCkgKyAoZGl2KSAt
IDEpIC8gKGRpdikpDQo+IEBAIC05NDEsNiArOTQyLDcgQEAgYm9vbCBtZXNoX21vZGVsX3NlbmQo
c3RydWN0IG1lc2hfbm9kZSAqbm9kZSwgdWludDE2X3Qgc3JjLCB1aW50MTZfdCB0YXJnZXQsDQo+
ICAJCQkJCWNvbnN0IHZvaWQgKm1zZywgdWludDE2X3QgbXNnX2xlbikNCj4gIHsNCj4gIAl1aW50
OF90IGtleV9pZDsNCj4gKwl1aW50OF90IGRldl9rZXlbMTZdOw0KPiAgCWNvbnN0IHVpbnQ4X3Qg
KmtleTsNCj4gIA0KPiAgCS8qIHByaW50X3BhY2tldCgiTW9kIFR4IiwgbXNnLCBtc2dfbGVuKTsg
Ki8NCj4gQEAgLTk1OSw3ICs5NjEsMTIgQEAgYm9vbCBtZXNoX21vZGVsX3NlbmQoc3RydWN0IG1l
c2hfbm9kZSAqbm9kZSwgdWludDE2X3Qgc3JjLCB1aW50MTZfdCB0YXJnZXQsDQo+ICAJCWlmICgh
a2V5KQ0KPiAgCQkJcmV0dXJuIGZhbHNlOw0KPiAgDQo+IC0JCWxfZGVidWcoIigleCkiLCBhcHBf
aWR4KTsNCj4gKwkJa2V5X2lkID0gQVBQX0lEX0RFVjsNCj4gKwl9IGVsc2UgaWYgKGFwcF9pZHgg
PT0gQVBQX0lEWF9ERVZfUkVNT1RFKSB7DQo+ICsJCWlmICgha2V5cmluZ19nZXRfcmVtb3RlX2Rl
dl9rZXkobm9kZSwgdGFyZ2V0LCBkZXZfa2V5KSkNCj4gKwkJCXJldHVybiBmYWxzZTsNCj4gKw0K
PiArCQlrZXkgPSBkZXZfa2V5Ow0KPiAgCQlrZXlfaWQgPSBBUFBfSURfREVWOw0KPiAgCX0gZWxz
ZSB7DQo+ICAJCWtleSA9IGFwcGtleV9nZXRfa2V5KG5vZGVfZ2V0X25ldChub2RlKSwgYXBwX2lk
eCwgJmtleV9pZCk7DQo+IGRpZmYgLS1naXQgYS9tZXNoL25vZGUuYyBiL21lc2gvbm9kZS5jDQo+
IGluZGV4IDFkY2I3NGI0Zi4uNzEzM2Y1YjJkIDEwMDY0NA0KPiAtLS0gYS9tZXNoL25vZGUuYw0K
PiArKysgYi9tZXNoL25vZGUuYw0KPiBAQCAtMTk3NCw3ICsxOTc0LDExIEBAIHN0YXRpYyBzdHJ1
Y3QgbF9kYnVzX21lc3NhZ2UgKnNlbmRfY2FsbChzdHJ1Y3QgbF9kYnVzICpkYnVzLA0KPiAgCQly
ZXR1cm4gZGJ1c19lcnJvcihtc2csIE1FU0hfRVJST1JfSU5WQUxJRF9BUkdTLA0KPiAgCQkJCQkJ
CSJJbmNvcnJlY3QgZGF0YSIpOw0KPiAgDQo+IC0JaWYgKCFtZXNoX21vZGVsX3NlbmQobm9kZSwg
c3JjLCBkc3QsIGFwcF9pZHgsDQo+ICsJaWYgKChhcHBfaWR4ICYgQVBQX0lEWF9NQVNLKSAhPSBh
cHBfaWR4KQ0KPiArCQlyZXR1cm4gZGJ1c19lcnJvcihtc2csIE1FU0hfRVJST1JfSU5WQUxJRF9B
UkdTLA0KPiArCQkJCQkJIkludmFsaWQga2V5X2luZGV4Iik7DQo+ICsNCj4gKwlpZiAoIW1lc2hf
bW9kZWxfc2VuZChub2RlLCBzcmMsIGRzdCwgYXBwX2lkeCAmIEFQUF9JRFhfTUFTSywNCj4gIAkJ
CQltZXNoX25ldF9nZXRfZGVmYXVsdF90dGwobm9kZS0+bmV0KSwgZGF0YSwgbGVuKSkNCj4gIAkJ
cmV0dXJuIGRidXNfZXJyb3IobXNnLCBNRVNIX0VSUk9SX0ZBSUxFRCwgTlVMTCk7DQo+ICANCj4g
QEAgLTE5ODQsNiArMTk4OCw1MyBAQCBzdGF0aWMgc3RydWN0IGxfZGJ1c19tZXNzYWdlICpzZW5k
X2NhbGwoc3RydWN0IGxfZGJ1cyAqZGJ1cywNCj4gIAlyZXR1cm4gcmVwbHk7DQo+ICB9DQo+ICAN
Cj4gK3N0YXRpYyBzdHJ1Y3QgbF9kYnVzX21lc3NhZ2UgKmRldl9rZXlfc2VuZF9jYWxsKHN0cnVj
dCBsX2RidXMgKmRidXMsDQo+ICsJCQkJCQlzdHJ1Y3QgbF9kYnVzX21lc3NhZ2UgKm1zZywNCj4g
KwkJCQkJCXZvaWQgKnVzZXJfZGF0YSkNCj4gK3sNCj4gKwlzdHJ1Y3QgbWVzaF9ub2RlICpub2Rl
ID0gdXNlcl9kYXRhOw0KPiArCWNvbnN0IGNoYXIgKnNlbmRlciwgKmVsZV9wYXRoOw0KPiArCXN0
cnVjdCBsX2RidXNfbWVzc2FnZV9pdGVyIGl0ZXJfZGF0YTsNCj4gKwlzdHJ1Y3Qgbm9kZV9lbGVt
ZW50ICplbGU7DQo+ICsJdWludDE2X3QgZHN0LCBuZXRfaWR4LCBzcmM7DQo+ICsJdWludDhfdCAq
ZGF0YTsNCj4gKwl1aW50MzJfdCBsZW47DQo+ICsJc3RydWN0IGxfZGJ1c19tZXNzYWdlICpyZXBs
eTsNCj4gKw0KPiArCWxfZGVidWcoIkRldktleVNlbmQiKTsNCj4gKw0KPiArCXNlbmRlciA9IGxf
ZGJ1c19tZXNzYWdlX2dldF9zZW5kZXIobXNnKTsNCj4gKw0KPiArCWlmIChzdHJjbXAoc2VuZGVy
LCBub2RlLT5vd25lcikpDQo+ICsJCXJldHVybiBkYnVzX2Vycm9yKG1zZywgTUVTSF9FUlJPUl9O
T1RfQVVUSE9SSVpFRCwgTlVMTCk7DQo+ICsNCj4gKwlpZiAoIWxfZGJ1c19tZXNzYWdlX2dldF9h
cmd1bWVudHMobXNnLCAib3FxYXkiLCAmZWxlX3BhdGgsICZkc3QsDQo+ICsJCQkJCQkJJm5ldF9p
ZHgsICZpdGVyX2RhdGEpKQ0KPiArCQlyZXR1cm4gZGJ1c19lcnJvcihtc2csIE1FU0hfRVJST1Jf
SU5WQUxJRF9BUkdTLCBOVUxMKTsNCj4gKw0KPiArCWVsZSA9IGxfcXVldWVfZmluZChub2RlLT5l
bGVtZW50cywgbWF0Y2hfZWxlbWVudF9wYXRoLCBlbGVfcGF0aCk7DQo+ICsJaWYgKCFlbGUpDQo+
ICsJCXJldHVybiBkYnVzX2Vycm9yKG1zZywgTUVTSF9FUlJPUl9OT1RfRk9VTkQsDQo+ICsJCQkJ
CQkJIkVsZW1lbnQgbm90IGZvdW5kIik7DQo+ICsNCj4gKwlzcmMgPSBub2RlX2dldF9wcmltYXJ5
KG5vZGUpICsgZWxlLT5pZHg7DQo+ICsNCj4gKwlpZiAoIWxfZGJ1c19tZXNzYWdlX2l0ZXJfZ2V0
X2ZpeGVkX2FycmF5KCZpdGVyX2RhdGEsICZkYXRhLCAmbGVuKSB8fA0KPiArCQkJCQkhbGVuIHx8
IGxlbiA+IE1FU0hfTUFYX0FDQ0VTU19QQVlMT0FEKQ0KPiArCQlyZXR1cm4gZGJ1c19lcnJvciht
c2csIE1FU0hfRVJST1JfSU5WQUxJRF9BUkdTLA0KPiArCQkJCQkJCSJJbmNvcnJlY3QgZGF0YSIp
Ow0KPiArDQo+ICsJLyogVE9ETzogdXNlIG5ldF9pZHggKi8NCj4gKwlpZiAoIW1lc2hfbW9kZWxf
c2VuZChub2RlLCBzcmMsIGRzdCwgQVBQX0lEWF9ERVZfUkVNT1RFLA0KPiArCQkJCW1lc2hfbmV0
X2dldF9kZWZhdWx0X3R0bChub2RlLT5uZXQpLCBkYXRhLCBsZW4pKQ0KPiArCQlyZXR1cm4gZGJ1
c19lcnJvcihtc2csIE1FU0hfRVJST1JfTk9UX0ZPVU5ELCBOVUxMKTsNCj4gKw0KPiArCXJlcGx5
ID0gbF9kYnVzX21lc3NhZ2VfbmV3X21ldGhvZF9yZXR1cm4obXNnKTsNCj4gKwlsX2RidXNfbWVz
c2FnZV9zZXRfYXJndW1lbnRzKHJlcGx5LCAiIik7DQo+ICsNCj4gKwlyZXR1cm4gcmVwbHk7DQoN
ClRoaXMgaXMgdGVjaG5pY2FsbHkgY29ycmVjdCwgYnV0IGlmIEkgYXBwbHksIEkgd2lsbCBiZSBk
ZWxldGluZyByZXBsYXkgbG9jYWwgYW5kIHJlZHVjaW5nIHRoZSBhYm92ZSB0aHJlZSBsaW5lcw0K
dG8ganVzdDoNCg0KcmV0dXJuIGxfZGJ1c19tZXNzYWdlX25ld19tZXRob2RfcmV0dXJuKG1zZyk7
DQoNCndoaWNoIGlzIG91ciBwcmVmZXJlZCBzdGFuZGFyZCBvZiBzdWNjZXNzZnVsIHJldHVybnMg
d2l0aCBubyBwYXJhbWV0ZXJzLg0KDQoNCg0KPiArfQ0KPiArDQo+ICBzdGF0aWMgc3RydWN0IGxf
ZGJ1c19tZXNzYWdlICpwdWJsaXNoX2NhbGwoc3RydWN0IGxfZGJ1cyAqZGJ1cywNCj4gIAkJCQkJ
CXN0cnVjdCBsX2RidXNfbWVzc2FnZSAqbXNnLA0KPiAgCQkJCQkJdm9pZCAqdXNlcl9kYXRhKQ0K
PiBAQCAtMjA4OSw3ICsyMTQwLDExIEBAIHN0YXRpYyB2b2lkIHNldHVwX25vZGVfaW50ZXJmYWNl
KHN0cnVjdCBsX2RidXNfaW50ZXJmYWNlICppZmFjZSkNCj4gIHsNCj4gIAlsX2RidXNfaW50ZXJm
YWNlX21ldGhvZChpZmFjZSwgIlNlbmQiLCAwLCBzZW5kX2NhbGwsICIiLCAib3FxYXkiLA0KPiAg
CQkJCQkJImVsZW1lbnRfcGF0aCIsICJkZXN0aW5hdGlvbiIsDQo+IC0JCQkJCQkia2V5IiwgImRh
dGEiKTsNCj4gKwkJCQkJCSJrZXlfaW5kZXgiLCAiZGF0YSIpOw0KPiArCWxfZGJ1c19pbnRlcmZh
Y2VfbWV0aG9kKGlmYWNlLCAiRGV2S2V5U2VuZCIsIDAsIGRldl9rZXlfc2VuZF9jYWxsLA0KPiAr
CQkJCQkJIiIsICJvcXFheSIsICJlbGVtZW50X3BhdGgiLA0KPiArCQkJCQkJImRlc3RpbmF0aW9u
IiwgIm5ldF9pbmRleCIsDQo+ICsJCQkJCQkiZGF0YSIpOw0KPiAgCWxfZGJ1c19pbnRlcmZhY2Vf
bWV0aG9kKGlmYWNlLCAiUHVibGlzaCIsIDAsIHB1Ymxpc2hfY2FsbCwgIiIsICJvcWF5IiwNCj4g
IAkJCQkJImVsZW1lbnRfcGF0aCIsICJtb2RlbF9pZCIsICJkYXRhIik7DQo+ICAJbF9kYnVzX2lu
dGVyZmFjZV9tZXRob2QoaWZhY2UsICJWZW5kb3JQdWJsaXNoIiwgMCwgdmVuZG9yX3B1Ymxpc2hf
Y2FsbCw=
