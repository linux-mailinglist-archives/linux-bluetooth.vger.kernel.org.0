Return-Path: <linux-bluetooth+bounces-5909-lists+linux-bluetooth=lfdr.de@vger.kernel.org>
X-Original-To: lists+linux-bluetooth@lfdr.de
Delivered-To: lists+linux-bluetooth@lfdr.de
Received: from sv.mirrors.kernel.org (sv.mirrors.kernel.org [IPv6:2604:1380:45e3:2400::1])
	by mail.lfdr.de (Postfix) with ESMTPS id A3A6092824C
	for <lists+linux-bluetooth@lfdr.de>; Fri,  5 Jul 2024 08:48:52 +0200 (CEST)
Received: from smtp.subspace.kernel.org (wormhole.subspace.kernel.org [52.25.139.140])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by sv.mirrors.kernel.org (Postfix) with ESMTPS id 59DA028418F
	for <lists+linux-bluetooth@lfdr.de>; Fri,  5 Jul 2024 06:48:51 +0000 (UTC)
Received: from localhost.localdomain (localhost.localdomain [127.0.0.1])
	by smtp.subspace.kernel.org (Postfix) with ESMTP id 1CEFF135A53;
	Fri,  5 Jul 2024 06:48:47 +0000 (UTC)
X-Original-To: linux-bluetooth@vger.kernel.org
Received: from relay3-d.mail.gandi.net (relay3-d.mail.gandi.net [217.70.183.195])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id EB3F6171BB
	for <linux-bluetooth@vger.kernel.org>; Fri,  5 Jul 2024 06:48:43 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=none smtp.client-ip=217.70.183.195
ARC-Seal:i=1; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1720162126; cv=none; b=UUouihWnld25HoOABbBh6ut8HIAAsAk0iOc4aySzhaHw5lKa1oCoE1BxvRaXYMTb6Rx+k+ZnAeelE0fMrFvxp40MpVVDtGHzB8DMmyWoGUMs2jUEYDd6S49hUqDWos6SMO3mBe/OmA8+YfNjWtzm8fIPOBAD0IP+C4W7u7QDR2Q=
ARC-Message-Signature:i=1; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1720162126; c=relaxed/simple;
	bh=8WPaNE/nwmG3JCqIFH5UMoWnIbp0wi15ApGDkmK70x8=;
	h=Message-ID:Subject:From:To:Cc:Date:In-Reply-To:References:
	 Content-Type:MIME-Version; b=ZRi7j0Dt+7RUnwcf2aI4vSsgbYpxcWlcFw3b0/MuYNSJ2rKCzrQJg7geFW89fGQ4DxuDNJdsz0OUTr5/NYe4Ujp4NAk2YhqaRJttDPHI1aLmcge6PDFWKqlAkueWaVTCVLW42usDCt/KveYFEhgCwvK7mUnz+oBkCTFkFD6fj48=
ARC-Authentication-Results:i=1; smtp.subspace.kernel.org; dmarc=none (p=none dis=none) header.from=hadess.net; spf=pass smtp.mailfrom=hadess.net; arc=none smtp.client-ip=217.70.183.195
Authentication-Results: smtp.subspace.kernel.org; dmarc=none (p=none dis=none) header.from=hadess.net
Authentication-Results: smtp.subspace.kernel.org; spf=pass smtp.mailfrom=hadess.net
Received: by mail.gandi.net (Postfix) with ESMTPSA id C3E4560004;
	Fri,  5 Jul 2024 06:48:39 +0000 (UTC)
Message-ID: <3a1457cc1df3d322dbd134cc826ec6c4398e4186.camel@hadess.net>
Subject: Re: [BlueZ 03/12] shared/shell: Free memory allocated by wordexp()
From: Bastien Nocera <hadess@hadess.net>
To: Luiz Augusto von Dentz <luiz.dentz@gmail.com>
Cc: linux-bluetooth@vger.kernel.org
Date: Fri, 05 Jul 2024 08:48:39 +0200
In-Reply-To: <CABBYNZJSFjPb4OegXS6ynXGPitmRUVdydW=h=qHfzFXcj9Yo7g@mail.gmail.com>
References: <20240704102617.1132337-1-hadess@hadess.net>
	 <20240704102617.1132337-4-hadess@hadess.net>
	 <CABBYNZJSFjPb4OegXS6ynXGPitmRUVdydW=h=qHfzFXcj9Yo7g@mail.gmail.com>
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: base64
User-Agent: Evolution 3.50.4 (3.50.4-1.fc39) 
Precedence: bulk
X-Mailing-List: linux-bluetooth@vger.kernel.org
List-Id: <linux-bluetooth.vger.kernel.org>
List-Subscribe: <mailto:linux-bluetooth+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-bluetooth+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
X-GND-Sasl: hadess@hadess.net

T24gVGh1LCAyMDI0LTA3LTA0IGF0IDIxOjI2IC0wNDAwLCBMdWl6IEF1Z3VzdG8gdm9uIERlbnR6
IHdyb3RlOgo+IEhpIEJhc3RpZW4sCj4gCj4gT24gVGh1LCBKdWwgNCwgMjAyNCBhdCA2OjMz4oCv
QU0gQmFzdGllbiBOb2NlcmEgPGhhZGVzc0BoYWRlc3MubmV0Pgo+IHdyb3RlOgo+ID4gCj4gPiBF
cnJvcjogUkVTT1VSQ0VfTEVBSyAoQ1dFLTc3Mik6IFsjZGVmNDBdIFtpbXBvcnRhbnRdCj4gPiBi
bHVlei01Ljc2L3NyYy9zaGFyZWQvc2hlbGwuYzoxMTEzOjM6IGFsbG9jX2FyZzogIndvcmRleHAi
Cj4gPiBhbGxvY2F0ZXMgbWVtb3J5IHRoYXQgaXMgc3RvcmVkIGludG8gIncud2Vfd29yZHYiLgo+
ID4gYmx1ZXotNS43Ni9zcmMvc2hhcmVkL3NoZWxsLmM6MTExNDo0OiBsZWFrZWRfc3RvcmFnZTog
VmFyaWFibGUgInciCj4gPiBnb2luZyBvdXQgb2Ygc2NvcGUgbGVha3MgdGhlIHN0b3JhZ2UgIncu
d2Vfd29yZHYiIHBvaW50cyB0by4KPiA+IDExMTJ8Cj4gPiAxMTEzfMKgwqDCoMKgwqDCoMKgwqDC
oMKgwqDCoMKgwqDCoMKgwqDCoCBpZiAod29yZGV4cChybF9saW5lX2J1ZmZlciwgJncsCj4gPiBX
UkRFX05PQ01EKSkKPiA+IDExMTR8LT7CoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKg
wqDCoMKgwqDCoMKgwqAgcmV0dXJuIE5VTEw7Cj4gCj4gRGVyciwgdGhpcyBpcyBOT0NNRCBoYXMg
YmVlbiBmb3VuZC4uLgoKU3RpbGwgbmVlZHMgcGFyc2luZyAqc2hydWcqCgo+IAo+ID4gMTExNXwK
PiA+IDExMTZ8wqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgIG1hdGNoZXMgPSBt
ZW51X2NvbXBsZXRpb24oZGVmYXVsdF9tZW51LAo+ID4gdGV4dCwgdy53ZV93b3JkYywKPiA+IAo+
ID4gRXJyb3I6IFJFU09VUkNFX0xFQUsgKENXRS03NzIpOiBbI2RlZjQyXSBbaW1wb3J0YW50XQo+
ID4gYmx1ZXotNS43Ni9zcmMvc2hhcmVkL3NoZWxsLmM6MTQxMjoyOiBhbGxvY19hcmc6ICJ3b3Jk
ZXhwIgo+ID4gYWxsb2NhdGVzIG1lbW9yeSB0aGF0IGlzIHN0b3JlZCBpbnRvICJ3LndlX3dvcmR2
Ii4KPiA+IGJsdWV6LTUuNzYvc3JjL3NoYXJlZC9zaGVsbC5jOjE0MTU6MzogbGVha2VkX3N0b3Jh
Z2U6IFZhcmlhYmxlICJ3Igo+ID4gZ29pbmcgb3V0IG9mIHNjb3BlIGxlYWtzIHRoZSBzdG9yYWdl
ICJ3LndlX3dvcmR2IiBwb2ludHMgdG8uCj4gPiAxNDEzfMKgwqDCoMKgwqDCoMKgwqDCoMKgIHN3
aXRjaCAoZXJyKSB7Cj4gPiAxNDE0fMKgwqDCoMKgwqDCoMKgwqDCoMKgIGNhc2UgV1JERV9CQURD
SEFSOgo+ID4gMTQxNXwtPsKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgIHJldHVybiAt
RUJBRE1TRzsKPiA+IDE0MTZ8wqDCoMKgwqDCoMKgwqDCoMKgwqAgY2FzZSBXUkRFX0JBRFZBTDoK
PiA+IDE0MTd8wqDCoMKgwqDCoMKgwqDCoMKgwqAgY2FzZSBXUkRFX1NZTlRBWDoKPiAKPiBPaywg
YnV0IHdoZXJlIGluIHRoZSBkb2N1bWVudGF0aW9uIG9mIHdvcmRleHAgaXQgaXMgc2F5aW5nIHRo
YXQKPiB3ZV93b3JkdiBpcyBsZWZ0IHdpdGggYW55dGhpbmcgYWxsb2NhdGVkIGlmIGl0IGZhaWxz
PyBJdmUgYXNzdW1lZCBpZgo+IGl0IHJldHVybnMgYW4gZXJyb3Igbm8gYXJndW1lbnQgaGFzIGJl
ZW4gcHJvY2Vzc2VkLCBvdGhlcndpc2UgdGhpcyBpcwo+IHNvcnQgb2YgbWlzbGVhZGluZyBhbmQg
dGhlIGVycm9ycyBzaGFsbCBiZSByZXR1cm5lZCBieSBpbmRleCBvZiB0aGUKPiB3b3JkLgoKVGhl
cmUncyBub3RoaW5nIHNheXMgaXQgZnJlZXMgd29yZHYgb24gZXJyb3IsIGFuZCB0aGUgY29kZSBz
aG93cyBpdApkb2Vzbid0OgpodHRwczovL3NvdXJjZXdhcmUub3JnL2dpdC8/cD1nbGliYy5naXQ7
YT1ibG9iO2Y9cG9zaXgvd29yZGV4cC5jO2g9YTczNjJlZjMxYjA1MjgwMDAxZTk2MWMzYTYzMGU5
NTMxMTBiNzM5NztoYj1IRUFEI2wyMjAzCgo+ID4gRXJyb3I6IFJFU09VUkNFX0xFQUsgKENXRS03
NzIpOiBbI2RlZjQzXSBbaW1wb3J0YW50XQo+ID4gYmx1ZXotNS43Ni9zcmMvc2hhcmVkL3NoZWxs
LmM6MTQxMjoyOiBhbGxvY19hcmc6ICJ3b3JkZXhwIgo+ID4gYWxsb2NhdGVzIG1lbW9yeSB0aGF0
IGlzIHN0b3JlZCBpbnRvICJ3LndlX3dvcmR2Ii4KPiA+IGJsdWV6LTUuNzYvc3JjL3NoYXJlZC9z
aGVsbC5jOjE0MTg6MzogbGVha2VkX3N0b3JhZ2U6IFZhcmlhYmxlICJ3Igo+ID4gZ29pbmcgb3V0
IG9mIHNjb3BlIGxlYWtzIHRoZSBzdG9yYWdlICJ3LndlX3dvcmR2IiBwb2ludHMgdG8uCj4gPiAx
NDE2fMKgwqDCoMKgwqDCoMKgwqDCoMKgIGNhc2UgV1JERV9CQURWQUw6Cj4gPiAxNDE3fMKgwqDC
oMKgwqDCoMKgwqDCoMKgIGNhc2UgV1JERV9TWU5UQVg6Cj4gPiAxNDE4fC0+wqDCoMKgwqDCoMKg
wqDCoMKgwqDCoMKgwqDCoMKgwqAgcmV0dXJuIC1FSU5WQUw7Cj4gPiAxNDE5fMKgwqDCoMKgwqDC
oMKgwqDCoMKgIGNhc2UgV1JERV9OT1NQQUNFOgo+ID4gMTQyMHzCoMKgwqDCoMKgwqDCoMKgwqDC
oMKgwqDCoMKgwqDCoMKgwqAgcmV0dXJuIC1FTk9NRU07Cj4gPiAKPiA+IEVycm9yOiBSRVNPVVJD
RV9MRUFLIChDV0UtNzcyKTogWyNkZWY0NF0gW2ltcG9ydGFudF0KPiA+IGJsdWV6LTUuNzYvc3Jj
L3NoYXJlZC9zaGVsbC5jOjE0MTI6MjogYWxsb2NfYXJnOiAid29yZGV4cCIKPiA+IGFsbG9jYXRl
cyBtZW1vcnkgdGhhdCBpcyBzdG9yZWQgaW50byAidy53ZV93b3JkdiIuCj4gPiBibHVlei01Ljc2
L3NyYy9zaGFyZWQvc2hlbGwuYzoxNDIwOjM6IGxlYWtlZF9zdG9yYWdlOiBWYXJpYWJsZSAidyIK
PiA+IGdvaW5nIG91dCBvZiBzY29wZSBsZWFrcyB0aGUgc3RvcmFnZSAidy53ZV93b3JkdiIgcG9p
bnRzIHRvLgo+ID4gMTQxOHzCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqAgcmV0
dXJuIC1FSU5WQUw7Cj4gPiAxNDE5fMKgwqDCoMKgwqDCoMKgwqDCoMKgIGNhc2UgV1JERV9OT1NQ
QUNFOgo+ID4gMTQyMHwtPsKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgIHJldHVybiAt
RU5PTUVNOwo+ID4gMTQyMXzCoMKgwqDCoMKgwqDCoMKgwqDCoCBjYXNlIFdSREVfQ01EU1VCOgo+
ID4gMTQyMnzCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqAgaWYgKHdvcmRleHAo
aW5wdXQsICZ3LCAwKSkKPiA+IAo+ID4gRXJyb3I6IFJFU09VUkNFX0xFQUsgKENXRS03NzIpOiBb
I2RlZjQ1XSBbaW1wb3J0YW50XQo+ID4gYmx1ZXotNS43Ni9zcmMvc2hhcmVkL3NoZWxsLmM6MTQy
MjozOiBhbGxvY19hcmc6ICJ3b3JkZXhwIgo+ID4gYWxsb2NhdGVzIG1lbW9yeSB0aGF0IGlzIHN0
b3JlZCBpbnRvICJ3LndlX3dvcmR2Ii4KPiA+IGJsdWV6LTUuNzYvc3JjL3NoYXJlZC9zaGVsbC5j
OjE0MjM6NDogbGVha2VkX3N0b3JhZ2U6IFZhcmlhYmxlICJ3Igo+ID4gZ29pbmcgb3V0IG9mIHNj
b3BlIGxlYWtzIHRoZSBzdG9yYWdlICJ3LndlX3dvcmR2IiBwb2ludHMgdG8uCj4gPiAxNDIxfMKg
wqDCoMKgwqDCoMKgwqDCoMKgIGNhc2UgV1JERV9DTURTVUI6Cj4gPiAxNDIyfMKgwqDCoMKgwqDC
oMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCBpZiAod29yZGV4cChpbnB1dCwgJncsIDApKQo+ID4g
MTQyM3wtPsKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCBy
ZXR1cm4gLUVOT0VYRUM7Cj4gPiAxNDI0fMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKg
wqDCoCBicmVhazsKPiA+IDE0MjV8wqDCoMKgwqDCoMKgwqDCoMKgwqAgfTsKPiA+IC0tLQo+ID4g
wqBzcmMvc2hhcmVkL3NoZWxsLmMgfCAxMSArKysrKysrKystLQo+ID4gwqAxIGZpbGUgY2hhbmdl
ZCwgOSBpbnNlcnRpb25zKCspLCAyIGRlbGV0aW9ucygtKQo+ID4gCj4gPiBkaWZmIC0tZ2l0IGEv
c3JjL3NoYXJlZC9zaGVsbC5jIGIvc3JjL3NoYXJlZC9zaGVsbC5jCj4gPiBpbmRleCA4NzhiZTE0
MGMzMzYuLmMwOWQ0MWVlNTRkZiAxMDA2NDQKPiA+IC0tLSBhL3NyYy9zaGFyZWQvc2hlbGwuYwo+
ID4gKysrIGIvc3JjL3NoYXJlZC9zaGVsbC5jCj4gPiBAQCAtMTExNyw4ICsxMTE3LDEwIEBAIHN0
YXRpYyBjaGFyICoqc2hlbGxfY29tcGxldGlvbihjb25zdCBjaGFyCj4gPiAqdGV4dCwgaW50IHN0
YXJ0LCBpbnQgZW5kKQo+ID4gwqDCoMKgwqDCoMKgwqAgaWYgKHN0YXJ0ID4gMCkgewo+ID4gwqDC
oMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgIHdvcmRleHBfdCB3Owo+ID4gCj4gPiAtwqDCoMKg
wqDCoMKgwqDCoMKgwqDCoMKgwqDCoCBpZiAod29yZGV4cChybF9saW5lX2J1ZmZlciwgJncsIFdS
REVfTk9DTUQpKQo+ID4gK8KgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqAgaWYgKHdvcmRleHAo
cmxfbGluZV9idWZmZXIsICZ3LCBXUkRFX05PQ01EKSkgewo+ID4gK8KgwqDCoMKgwqDCoMKgwqDC
oMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgIHdvcmRmcmVlKCZ3KTsKPiA+IMKgwqDCoMKgwqDC
oMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqAgcmV0dXJuIE5VTEw7Cj4gPiArwqDC
oMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCB9Cj4gPiAKPiA+IMKgwqDCoMKgwqDCoMKgwqDCoMKg
wqDCoMKgwqDCoCBtYXRjaGVzID0gbWVudV9jb21wbGV0aW9uKGRlZmF1bHRfbWVudSwgdGV4dCwK
PiA+IHcud2Vfd29yZGMsCj4gPiDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDC
oMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKg
wqDCoMKgwqDCoMKgwqDCoAo+ID4gdy53ZV93b3JkdlswXSk7Cj4gPiBAQCAtMTQyMSwxNSArMTQy
MywyMCBAQCBpbnQgYnRfc2hlbGxfZXhlYyhjb25zdCBjaGFyICppbnB1dCkKPiA+IMKgwqDCoMKg
wqDCoMKgIGVyciA9IHdvcmRleHAoaW5wdXQsICZ3LCBXUkRFX05PQ01EKTsKPiA+IMKgwqDCoMKg
wqDCoMKgIHN3aXRjaCAoZXJyKSB7Cj4gPiDCoMKgwqDCoMKgwqDCoCBjYXNlIFdSREVfQkFEQ0hB
UjoKPiA+ICvCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgIHdvcmRmcmVlKCZ3KTsKPiA+IMKg
wqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCByZXR1cm4gLUVCQURNU0c7Cj4gPiDCoMKgwqDC
oMKgwqDCoCBjYXNlIFdSREVfQkFEVkFMOgo+ID4gwqDCoMKgwqDCoMKgwqAgY2FzZSBXUkRFX1NZ
TlRBWDoKPiA+ICvCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgIHdvcmRmcmVlKCZ3KTsKPiA+
IMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCByZXR1cm4gLUVJTlZBTDsKPiA+IMKgwqDC
oMKgwqDCoMKgIGNhc2UgV1JERV9OT1NQQUNFOgo+ID4gK8KgwqDCoMKgwqDCoMKgwqDCoMKgwqDC
oMKgwqAgd29yZGZyZWUoJncpOwo+ID4gwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgIHJl
dHVybiAtRU5PTUVNOwo+ID4gwqDCoMKgwqDCoMKgwqAgY2FzZSBXUkRFX0NNRFNVQjoKPiA+IC3C
oMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgIGlmICh3b3JkZXhwKGlucHV0LCAmdywgMCkpCj4g
PiArwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCBpZiAod29yZGV4cChpbnB1dCwgJncsIDAp
KSB7Cj4gPiArwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqAgd29y
ZGZyZWUoJncpOwo+ID4gwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKg
wqDCoCByZXR1cm4gLUVOT0VYRUM7Cj4gPiArwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCB9
Cj4gPiDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqAgYnJlYWs7Cj4gPiDCoMKgwqDCoMKg
wqDCoCB9Owo+IAo+IElmIHdlIHJlYWxseSBuZWVkIHRvIGNhbGwgd29yZGZyZWUgcmVnYXJkbGVz
cyB0aGVuIEknZCBwcm9iYWJseSBoYXZlCj4gYQo+IGZ1bmN0aW9uIHRoYXQgd3JhcHMgd29yZGV4
cCBhbmQgYXV0b21hdGljYWxseSBkb2VzIHdvcmRmcmVlIG9uIGVycm9yLgoKT0suCgo+IAoK


